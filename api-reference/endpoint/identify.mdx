---
title: 'Create Identify Session'
openapi: 'POST /v1/identify'
---

Create an identity verification session. Returns a QR code and session ID for the user to scan with their UIP app.

### Body Parameters

<ParamField body="intent" type="string" required>
  Description of why you're requesting identity verification. Shown to the user in the UIP app.

  **Example:** `"Sign in to Example App"` or `"Verify age for content access"`
</ParamField>

<ParamField body="requested_data" type="array">
  Optional array specifying which identity attributes to request. If omitted or empty, all available data is returned.

  **Valid values:** `first_name`, `last_name`, `date_of_birth`, `country`, `expires_at`

  **Example:** `["first_name", "last_name", "date_of_birth"]`
</ParamField>

### Example Request

<CodeGroup>

```bash cURL
curl -X POST https://api.uip.digital/v1/identify \
  -H "Authorization: Bearer YOUR_API_KEY" \
  -H "Content-Type: application/json" \
  -d '{
    "intent": "Sign in to Example App",
    "requested_data": ["first_name", "last_name", "date_of_birth"]
  }'
```

```javascript Node.js
const response = await fetch('https://api.uip.digital/v1/identify', {
  method: 'POST',
  headers: {
    'Authorization': `Bearer ${API_KEY}`,
    'Content-Type': 'application/json'
  },
  body: JSON.stringify({
    intent: 'Sign in to Example App',
    requested_data: ['first_name', 'last_name', 'date_of_birth']
  })
});

const { session_id, qr_code, expires_at } = await response.json();
```

```python Python
import requests

response = requests.post(
    'https://api.uip.digital/v1/identify',
    headers={
        'Authorization': f'Bearer {API_KEY}',
        'Content-Type': 'application/json'
    },
    json={
        'intent': 'Sign in to Example App',
        'requested_data': ['first_name', 'last_name', 'date_of_birth']
    }
)

data = response.json()
session_id = data['session_id']
qr_code = data['qr_code']
```

</CodeGroup>

### Response (200 OK)

```json
{
  "session_id": "sess_1a2b3c4d5e6f",
  "expires_at": "2025-01-11T12:35:00Z",
  "qr_code": "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAA..."
}
```

<ResponseField name="session_id" type="string" required>
  Unique identifier for this session. Use this to poll for results.
</ResponseField>

<ResponseField name="expires_at" type="string" required>
  ISO 8601 timestamp when the session expires (5 minutes from creation).
</ResponseField>

<ResponseField name="qr_code" type="string" required>
  Base64-encoded PNG data URI of the QR code. Display this to desktop users. The QR code encodes `https://www.uip.id/{session_id}`.
</ResponseField>

## Implementation Flow

<Steps>
  <Step title="Create Session">
    Call `POST /v1/identify` with your intent and optional requested data fields
  </Step>

  <Step title="Display QR Code or Deep Link">
    Desktop: show the `qr_code` image. Mobile: show an "Open UIP" button linking to `https://www.uip.id/{session_id}`
  </Step>

  <Step title="Poll for Result">
    Call `GET /v1/identify/:id` every 2-3 seconds until status is `completed` or `expired`
  </Step>

  <Step title="Use Verified Data">
    Extract identity fields and `audit_id` from the completed response. Save `audit_id` for compliance.
  </Step>
</Steps>

<Info>
**No webhooks needed.** The Identify API uses simple polling. No redirect URIs, no code exchange.
</Info>

## Common Use Cases

<AccordionGroup>
  <Accordion title="User Authentication" icon="user-check">
    Request `first_name` and `last_name` to authenticate users and create accounts

    ```json
    {
      "intent": "Sign in to your account",
      "requested_data": ["first_name", "last_name"]
    }
    ```
  </Accordion>

  <Accordion title="Age Verification" icon="calendar-check">
    Request only the `date_of_birth` field to verify age without exposing other identity data

    ```json
    {
      "intent": "Verify you're 18+ to access content",
      "requested_data": ["date_of_birth"]
    }
    ```
  </Accordion>

  <Accordion title="Location Compliance" icon="globe">
    Request the `country` field to ensure compliance with regional regulations

    ```json
    {
      "intent": "Verify your location for service availability",
      "requested_data": ["country"]
    }
    ```
  </Accordion>

  <Accordion title="Complete Profile" icon="address-card">
    Omit `requested_data` or pass empty array to receive all available identity attributes

    ```json
    {
      "intent": "Complete your profile setup"
    }
    ```
  </Accordion>
</AccordionGroup>

## Errors

See the [Error Handling Guide](/core-concepts/error-handling) for comprehensive error handling strategies.

Possible error codes:

- `auth/missing-api-key` - No API key provided in Authorization header
- `auth/invalid-api-key` - Invalid API key
- `auth/revoked-api-key` - API key has been revoked
- `auth/business-archived` - Business account has been archived
- `request/invalid-payload` - Request payload is invalid or missing required fields
- `payment/insufficient-funds` - Insufficient account balance
- `resource/not-found` - Session not found (GET endpoint)
- `internal/server-error` - Failed to create or retrieve session
